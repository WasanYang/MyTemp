# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on merge
'on':
  push:
    branches:
      - main
jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      # - name: Install dependencies
      # run: npm ci
      # - name: Install Firebase CLI
      # run: npm install -g firebase-tools@13.29.1
      # - name: Build project
      # run: npm run build
      - name: Debug info
        run: |
          echo "Node version:"
          node -v
          echo "NPM version:"
          npm -v
          echo "Installed packages:"
          npm list
      - name: Deploy to Firebase Hosting
        env:
          FIREBASE_CLI_EXPERIMENTS: webframeworks
        run: firebase deploy --only hosting --project test-nextjs-13 --token ${{ secrets.FIREBASE_DEPLOY_TOKEN }}
